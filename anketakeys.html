<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Анкета для перепрограмування ключів</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony Neutrals -->
    <!-- Application Structure Plan: A single-column, linear form layout was chosen for its simplicity and directness. This structure guides the user sequentially through each required field, minimizing cognitive load and ensuring a high completion rate. The user flow is straightforward: open, fill fields from top to bottom, and submit. This task-oriented design is the most effective for simple data collection. -->
    <!-- Visualization & Content Choices: Standard HTML form elements are used as they are the most direct way to collect user data. Goal: Collect Info -> Method: HTML Inputs (`text`, `tel`, `number`, `file`). Interaction: User typing and selecting. For numeric inputs, interactive +/- buttons are added via JS for better usability on touch devices. Justification: These elements are universally understood, accessible, and efficient for this purpose. NO SVG/Mermaid used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F7F4;
        }
        .form-container {
            background-color: #FFFFFF;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        .form-label {
            color: #374151;
        }
        .form-input, .number-input-display {
            background-color: #F9FAFB;
            border: 1px solid #D1D5DB;
            color: #1F2937;
        }
        .form-input:focus, .number-input-display:focus {
            outline: none;
            border-color: #A5B4FC;
            box-shadow: 0 0 0 2px #C7D2FE;
        }
        .number-input-btn {
            background-color: #E5E7EB;
            color: #4B5563;
            transition: background-color 0.2s;
        }
        .number-input-btn:hover {
            background-color: #D1D5DB;
        }
        .submit-btn {
            background-color: #8B5CF6; /* A nice purple accent */
            color: white;
            transition: background-color 0.2s;
        }
        .submit-btn:hover {
            background-color: #7C3AED;
        }
        .file-upload-label {
            border: 2px dashed #D1D5DB;
            transition: border-color 0.2s, background-color 0.2s;
        }
        .file-upload-label:hover {
            border-color: #8B5CF6;
            background-color: #F5F3FF;
        }
        .info-box {
            background-color: #EFF6FF;
            border-left: 4px solid #3B82F6;
        }
        .success-message {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4 sm:p-6 lg:p-8">
    <div class="form-container w-full max-w-2xl p-6 sm:p-8 rounded-2xl">
        
        <div id="form-content">
            <div class="text-center mb-8">
                <h1 class="text-2xl sm:text-3xl font-bold text-gray-800">Анкета для ключів від ліфта</h1>
                <p class="text-gray-500 mt-2">Будь ласка, заповніть форму для перепрограмування або замовлення нових ключів.</p>
            </div>

            <!-- 
                Для відправки форми на електронну пошту, вам потрібно використовувати сторонній сервіс, такий як Formspree (https://formspree.io)
                або власний бекенд.
                Замініть "YOUR_FORMSPREE_ENDPOINT" на ваш реальний URL форми з Formspree.
                Наприклад: action="https://formspree.io/f/your_unique_form_id"
            -->
            <form id="key-form" class="space-y-6" action="https://formspree.io/f/meozkdzw" method="POST">
                <div>
                    <label for="owner-name" class="block text-sm font-medium form-label mb-1">1. ПІБ власника</label>
                    <input type="text" id="owner-name" name="ПІБ власника" required class="form-input w-full px-4 py-2 rounded-lg text-base" placeholder="Іванов Іван Іванович">
                </div>

                <div>
                    <label for="owner-phone" class="block text-sm font-medium form-label mb-1">2. Контактний номер телефону власника</label>
                    <input type="tel" id="owner-phone" name="Контактний номер телефону власника" required class="form-input w-full px-4 py-2 rounded-lg text-base" placeholder="+380 XX XXX XX XX">
                </div>

                <div class="info-box p-4 rounded-lg">
                    <h3 class="font-semibold text-blue-800">3. Для нових власників (після 07.2024)</h3>
                    <p class="text-sm text-blue-700 mt-1 mb-3">Будь ласка, завантажте фото документа на право власності та ID-картки.</p>
                    <label for="owner-docs" class="file-upload-label flex flex-col items-center justify-center w-full p-5 rounded-lg cursor-pointer">
                        <svg class="w-8 h-8 mb-2 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 16"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"/></svg>
                        <span class="text-sm text-gray-600 font-medium">Натисніть, щоб завантажити</span>
                        <input id="owner-docs" type="file" name="Фото документа та ID-картки" class="hidden" multiple accept="image/*,.pdf">
                    </label>
                    <div id="file-list" class="text-sm text-gray-600 mt-2"></div>
                </div>

                <div>
                    <label for="floor" class="block text-sm font-medium form-label mb-1">4. Поверх, на якому знаходиться ваша квартира</label>
                    <input type="number" id="floor" name="Поверх квартири" required min="1" class="form-input w-full px-4 py-2 rounded-lg text-base" placeholder="Наприклад: 9">
                </div>

                <div>
                    <label class="block text-sm font-medium form-label mb-1">5. Кількість діючих ключів від УК, які потрібно перепрограмувати</label>
                    <div class="flex items-center mt-1">
                        <button type="button" class="number-input-btn h-10 w-10 rounded-l-lg font-bold text-xl" data-for="existing-keys" data-action="decrease">−</button>
                        <input type="number" id="existing-keys" name="Кількість діючих ключів" value="0" min="0" class="number-input-display w-full h-10 text-center font-semibold text-lg border-y-0" readonly>
                        <button type="button" class="number-input-btn h-10 w-10 rounded-r-lg font-bold text-xl" data-for="existing-keys" data-action="increase">+</button>
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium form-label mb-1">6. Необхідна кількість додаткових ключів</label>
                    <p class="text-xs text-gray-500 mb-2">За додаткову оплату; доступ тільки до ліфтів нашого будинку.</p>
                    <div class="flex items-center mt-1">
                        <button type="button" class="number-input-btn h-10 w-10 rounded-l-lg font-bold text-xl" data-for="additional-keys" data-action="decrease">−</button>
                        <input type="number" id="additional-keys" name="Кількість додаткових ключів" value="0" min="0" class="number-input-display w-full h-10 text-center font-semibold text-lg border-y-0" readonly>
                        <button type="button" class="number-input-btn h-10 w-10 rounded-r-lg font-bold text-xl" data-for="additional-keys" data-action="increase">+</button>
                    </div>
                </div>

                <div>
                    <label for="pickup-person" class="block text-sm font-medium form-label mb-1">7. Хто забиратиме ключі, якщо не ви?</label>
                    <input type="text" id="pickup-person" name="Хто забиратиме ключі" class="form-input w-full px-4 py-2 rounded-lg text-base" placeholder="Вкажіть ПІБ (необов'язково)">
                    <p class="text-xs text-gray-500 mt-1">Ця особа повинна мати при собі документ, що посвідчує особу.</p>
                </div>

                <div class="pt-4">
                    <button type="submit" class="submit-btn w-full py-3 rounded-lg font-bold text-lg">Надіслати анкету</button>
                </div>
            </form>
        </div>

        <div id="success-message" class="hidden text-center p-8">
            <svg class="w-16 h-16 text-green-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            <h2 class="text-2xl font-bold text-gray-800">Дякуємо!</h2>
            <p class="text-gray-600 mt-2">Вашу анкету успішно надіслано. Якщо ви налаштували сервіс відправки, дані надійдуть на вашу електронну адресу.</p>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('key-form');
            const formContent = document.getElementById('form-content');
            const successMessage = document.getElementById('success-message');

            form.addEventListener('submit', function(event) {
                // Якщо ви використовуєте Formspree або подібний сервіс,
                // залиште event.preventDefault() закоментованим,
                // щоб форма могла відправити дані на URL, вказаний в 'action'.
                // Якщо ж ви хочете лише імітувати відправку на клієнті,
                // розкоментуйте event.preventDefault().
                // event.preventDefault(); 
                
                formContent.classList.add('hidden');
                successMessage.classList.remove('hidden');
                successMessage.classList.add('success-message');
                window.scrollTo(0, 0);

                // У реальному сценарії, якщо event.preventDefault() закоментовано,
                // браузер сам відправить форму на action URL.
                // Якщо ж ви обробляєте відправку за допомогою fetch/XMLHttpRequest (AJAX),
                // то тут мав би бути ваш AJAX-запит.
            });

            const numberButtons = document.querySelectorAll('.number-input-btn');
            numberButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const targetId = this.dataset.for;
                    const action = this.dataset.action;
                    const input = document.getElementById(targetId);
                    let currentValue = parseInt(input.value, 10);

                    if (action === 'increase') {
                        currentValue++;
                    } else if (action === 'decrease' && currentValue > 0) {
                        currentValue--;
                    }
                    input.value = currentValue;
                });
            });

            const fileInput = document.getElementById('owner-docs');
            const fileList = document.getElementById('file-list');
            fileInput.addEventListener('change', function() {
                fileList.innerHTML = '';
                if (this.files.length > 0) {
                    const list = document.createElement('ul');
                    list.className = 'list-disc list-inside';
                    for (const file of this.files) {
                        const listItem = document.createElement('li');
                        listItem.textContent = file.name;
                        list.appendChild(listItem);
                    }
                    fileList.appendChild(list);
                }
            });
        });
    </script>
</body>
</html>
